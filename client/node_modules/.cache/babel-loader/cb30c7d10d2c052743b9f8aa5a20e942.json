{"ast":null,"code":"import _slicedToArray from\"/Users/jessenicholas/shock-draw-final/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from'react';import socket from'../../context/socket.js';import{useAudio}from'../../components/AudioPlayer/AudioPlayer.js';import sound from'./settingpiece.mp3';import classes from'./Recap.module.css';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Recap=function Recap(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),flipping=_useState2[0],setFlipping=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),redHistory=_useState4[0],setRedHistory=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),blueHistory=_useState6[0],setBlueHistory=_useState6[1];var _useState7=useState(props.totalRedPoints),_useState8=_slicedToArray(_useState7,2),shownRedPoints=_useState8[0],setShownRedPoints=_useState8[1];var _useState9=useState(props.totalBluePoints),_useState10=_slicedToArray(_useState9,2),shownBluePoints=_useState10[0],setShownBluePoints=_useState10[1];var handleRightRed=function handleRightRed(){setShownRedPoints(function(p){return p+1;});};var handleRightBlue=function handleRightBlue(){setShownBluePoints(function(p){return p+1;});};useEffect(function(){socket.emit('getwordhistory');},[]);useEffect(function(){socket.on('takehistory',function(data){setRedHistory(data.redhistory);setBlueHistory(data.bluehistory);setFlipping(true);});return function(){socket.off('takehistory');};});return/*#__PURE__*/_jsxs(\"div\",{className:classes.recapContainer,children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"End of Round \",props.round]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.pointsRecapContainer,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.totalpointsHolder,children:[/*#__PURE__*/_jsx(\"h1\",{style:{color:\"#ff3b2d\"},children:shownRedPoints}),flipping&&redHistory.map(function(oldword,i){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(OldWord,{handleAdd:handleRightRed,word:oldword.word,success:oldword.success,delay:500*(i+1)})},i);})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.totalpointsHolder,children:[/*#__PURE__*/_jsx(\"h1\",{style:{color:\"#2df1ff\"},children:shownBluePoints}),flipping&&blueHistory.map(function(oldword,i){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(OldWord,{handleAdd:handleRightBlue,word:oldword.word,success:oldword.success,delay:500*(i+1)})},i);})]})]})]});};var OldWord=function OldWord(_ref){var word=_ref.word,success=_ref.success,delay=_ref.delay,handleAdd=_ref.handleAdd;var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),flip=_useState12[0],setFlip=_useState12[1];var _useAudio=useAudio(sound),_useAudio2=_slicedToArray(_useAudio,2),playing=_useAudio2[0],toggle=_useAudio2[1];useEffect(function(){setTimeout(function(){setFlip(true);toggle();if(success){handleAdd();}},delay);},[]);return/*#__PURE__*/_jsx(\"div\",{className:classes.wordcard,children:/*#__PURE__*/_jsx(\"div\",{className:flip?classes.flipped:\"\",children:/*#__PURE__*/_jsx(\"div\",{className:classes.blankside,children:/*#__PURE__*/_jsx(\"h2\",{style:{color:success?\"green\":\"gray\"},children:word})})})});};export default Recap;","map":{"version":3,"sources":["/Users/jessenicholas/shock-draw-final/client/src/layouts/Recap/Recap.js"],"names":["useEffect","useState","socket","useAudio","sound","classes","Recap","props","flipping","setFlipping","redHistory","setRedHistory","blueHistory","setBlueHistory","totalRedPoints","shownRedPoints","setShownRedPoints","totalBluePoints","shownBluePoints","setShownBluePoints","handleRightRed","p","handleRightBlue","emit","on","data","redhistory","bluehistory","off","recapContainer","round","pointsRecapContainer","totalpointsHolder","color","map","oldword","i","word","success","OldWord","delay","handleAdd","flip","setFlip","playing","toggle","setTimeout","wordcard","flipped","blankside"],"mappings":"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","sourcesContent":["import {useEffect, useState} from 'react'\nimport socket from '../../context/socket.js'\nimport {useAudio} from '../../components/AudioPlayer/AudioPlayer.js'\nimport sound from './settingpiece.mp3'\nimport classes from './Recap.module.css'\n\nconst Recap = (props) => {\n\n  const [flipping, setFlipping] = useState(false)\n  const [redHistory, setRedHistory] = useState([])\n  const [blueHistory, setBlueHistory] = useState([])\n\n  const [shownRedPoints, setShownRedPoints] = useState(props.totalRedPoints)\n  const [shownBluePoints, setShownBluePoints] = useState(props.totalBluePoints)\n\n  const handleRightRed = () => {\n    setShownRedPoints(p => p+1)\n  }\n  const handleRightBlue = () => {\n    setShownBluePoints(p => p+1)\n  }\n\n\n  useEffect(() => {\n    socket.emit('getwordhistory')\n  }, [])\n\n  useEffect(() => {\n    socket.on('takehistory', (data) => {\n      setRedHistory(data.redhistory)\n      setBlueHistory(data.bluehistory)\n      setFlipping(true)\n    })\n    return ()=> {\n      socket.off('takehistory')\n    }\n  })\n\n\n  return (\n    <div className={classes.recapContainer}>\n      <h1>End of Round {props.round}</h1>\n    <div className={classes.pointsRecapContainer}>\n      <div className={classes.totalpointsHolder} >\n        <h1 style={{color:\"#ff3b2d\"}}>{shownRedPoints}</h1>\n        {flipping && redHistory.map((oldword, i) => (\n          <div key={i}>\n            <OldWord handleAdd={handleRightRed} word={oldword.word} success={oldword.success} delay={500*(i+1)}/>\n          </div>\n        ))}\n\n\n      </div>\n      <div className={classes.totalpointsHolder} >\n        <h1 style={{color:\"#2df1ff\"}}>{shownBluePoints}</h1>\n\n          {flipping && blueHistory.map((oldword, i) => (\n            <div key={i}>\n              <OldWord handleAdd={handleRightBlue} word={oldword.word} success={oldword.success} delay={500*(i+1)}/>\n            </div>\n          ))}\n      </div>\n    </div>\n    </div>\n  )\n}\n\nconst OldWord = ({word, success, delay, handleAdd}) => {\n\n\n  const [flip, setFlip] = useState(false)\n  const [playing, toggle] = useAudio(sound)\n  useEffect(() => {\n    setTimeout(() => {\n      setFlip(true)\n      toggle()\n\n\n      if (success){\n        handleAdd()\n      }\n    }, delay)\n  }, [])\n\n  return (\n    <div className={classes.wordcard}>\n  <div className={flip ? classes.flipped : \"\"}>\n    <div className={classes.blankside}><h2 style={{color: success ? \"green\" : \"gray\"}}>{word}</h2></div>\n  </div>\n</div>\n\n  )\n}\n\nexport default Recap\n"]},"metadata":{},"sourceType":"module"}