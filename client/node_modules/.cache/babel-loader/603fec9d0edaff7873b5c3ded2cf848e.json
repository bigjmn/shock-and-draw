{"ast":null,"code":"import _slicedToArray from\"/Users/jessenicholas/shock-draw-final/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import socket from'../../context/socket.js';import sound from'./correct.mp3';import badsound from'./negative_beep.wav';import zapsound from'./zap.mp3';import rendersound from'./settingpiece.mp3';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useAudio=function useAudio(url){var _useState=useState(new Audio(url)),_useState2=_slicedToArray(_useState,1),audio=_useState2[0];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),playing=_useState4[0],setPlaying=_useState4[1];var toggle=function toggle(){return setPlaying(!playing);};useEffect(function(){playing?audio.play():audio.pause();},[playing]);useEffect(function(){audio.addEventListener('ended',function(){return setPlaying(false);});return function(){audio.removeEventListener('ended',function(){return setPlaying(false);});};},[]);return[playing,toggle];};var Player=function Player(_ref){var onmute=_ref.onmute;var _useAudio=useAudio(sound),_useAudio2=_slicedToArray(_useAudio,2),playing=_useAudio2[0],toggle=_useAudio2[1];var _useAudio3=useAudio(badsound),_useAudio4=_slicedToArray(_useAudio3,2),badplaying=_useAudio4[0],badtoggle=_useAudio4[1];var _useAudio5=useAudio(zapsound),_useAudio6=_slicedToArray(_useAudio5,2),zapplaying=_useAudio6[0],zaptoggle=_useAudio6[1];var _useAudio7=useAudio(rendersound),_useAudio8=_slicedToArray(_useAudio7,2),renderplaying=_useAudio8[0],rendertoggle=_useAudio8[1];var findandplay=function findandplay(buttonid){if(onmute){return;}document.getElementById(buttonid).click();};useEffect(function(){socket.on('correctsound',function(){return findandplay('clickplayer');});socket.on('passnoise',function(){return findandplay('passplayer');});socket.on('zapnoise',function(){return findandplay('zapplayer');});socket.on('rendersound',function(){return findandplay('renderplayer');});return function(){socket.off('correctsound');socket.off('passnoise');socket.off('zapnoise');socket.off('rendersound');};});return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{style:{display:\"none\"},children:[/*#__PURE__*/_jsx(\"button\",{id:\"clickplayer\",onClick:toggle,children:playing?\"Pause\":\"Play\"}),/*#__PURE__*/_jsx(\"button\",{id:\"passplayer\",onClick:badtoggle,children:badplaying?\"Pause\":\"Play\"}),/*#__PURE__*/_jsx(\"button\",{id:\"zapplayer\",onClick:zaptoggle,children:zapplaying?\"Pause\":\"Play\"}),/*#__PURE__*/_jsx(\"button\",{id:\"renderplayer\",onClick:rendertoggle,children:renderplaying?\"Pause\":\"Play\"})]})});};export default Player;export{useAudio};","map":{"version":3,"sources":["/Users/jessenicholas/shock-draw-final/client/src/components/AudioPlayer/AudioPlayer.js"],"names":["React","useState","useEffect","socket","sound","badsound","zapsound","rendersound","useAudio","url","Audio","audio","playing","setPlaying","toggle","play","pause","addEventListener","removeEventListener","Player","onmute","badplaying","badtoggle","zapplaying","zaptoggle","renderplaying","rendertoggle","findandplay","buttonid","document","getElementById","click","on","off","display"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport socket from '../../context/socket.js'\nimport sound from './correct.mp3'\nimport badsound from './negative_beep.wav'\nimport zapsound from './zap.mp3'\nimport rendersound from './settingpiece.mp3'\nconst useAudio = url => {\n  const [audio] = useState(new Audio(url));\n  const [playing, setPlaying] = useState(false);\n\n  const toggle = () => setPlaying(!playing);\n\n  useEffect(() => {\n      playing ? audio.play() : audio.pause();\n    },\n    [playing]\n  );\n\n  useEffect(() => {\n    audio.addEventListener('ended', () => setPlaying(false));\n    return () => {\n      audio.removeEventListener('ended', () => setPlaying(false));\n    };\n  }, []);\n\n  return [playing, toggle];\n};\n\nconst Player = ({onmute}) => {\n  const [playing, toggle] = useAudio(sound);\n  const [badplaying, badtoggle] = useAudio(badsound)\n  const [zapplaying, zaptoggle] = useAudio(zapsound)\n  const [renderplaying, rendertoggle] = useAudio(rendersound)\n\n\n  const findandplay = (buttonid) => {\n    if (onmute){\n      return\n    }\n    document.getElementById(buttonid).click()\n  }\n  useEffect(() => {\n    socket.on('correctsound', () => findandplay('clickplayer'))\n    socket.on('passnoise', () => findandplay('passplayer'))\n    socket.on('zapnoise', () => findandplay('zapplayer'))\n    socket.on('rendersound', () => findandplay('renderplayer'))\n\n    return () => {\n      socket.off('correctsound')\n      socket.off('passnoise')\n      socket.off('zapnoise')\n      socket.off('rendersound')\n    }\n  })\n\n  return (\n    <div>\n\n\n\n    <div style={{display:\"none\"}}>\n      <button id='clickplayer' onClick={toggle}>{playing ? \"Pause\" : \"Play\"}</button>\n      <button id='passplayer' onClick={badtoggle}>{badplaying ? \"Pause\" : \"Play\"}</button>\n      <button id='zapplayer' onClick={zaptoggle}>{zapplaying ? \"Pause\" : \"Play\"}</button>\n      <button id='renderplayer' onClick={rendertoggle}>{renderplaying ? \"Pause\" : \"Play\"}</button>\n\n\n    </div>\n    </div>\n  );\n};\n\nexport default Player;\nexport {useAudio};\n"]},"metadata":{},"sourceType":"module"}