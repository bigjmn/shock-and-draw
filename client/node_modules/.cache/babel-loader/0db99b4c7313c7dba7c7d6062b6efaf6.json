{"ast":null,"code":"import _slicedToArray from\"/Users/jessenicholas/shock-draw-final/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';import socket from'../../context/socket.js';import classes from'./AttackCard.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AttackCard=function AttackCard(_ref){var type=_ref.type,color=_ref.color,timestamp=_ref.timestamp,maxTime=_ref.maxTime,filterOut=_ref.filterOut;var _useState=useState(maxTime),_useState2=_slicedToArray(_useState,2),secs=_useState2[0],setSecs=_useState2[1];useEffect(function(){var int=null;int=setInterval(function(){var timeleft=maxTime-Math.round((Date.now()-timestamp)/1000);if(timeleft<=0){console.log(timeleft);filterOut(timestamp);}setSecs(timeleft);},1000);return function(){clearInterval(int);};},[]);return/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:color},className:classes.cardContainer,children:[/*#__PURE__*/_jsx(\"h1\",{children:type.title}),/*#__PURE__*/_jsx(\"h2\",{children:type.explainer}),/*#__PURE__*/_jsx(\"div\",{className:classes.timerspot,children:secs}),/*#__PURE__*/_jsx(\"h3\",{children:type.flavor})]});};export default AttackCard;","map":{"version":3,"sources":["/Users/jessenicholas/shock-draw-final/client/src/components/AttackCard/AttackCard.js"],"names":["useState","useEffect","socket","classes","AttackCard","type","color","timestamp","maxTime","filterOut","secs","setSecs","int","setInterval","timeleft","Math","round","Date","now","console","log","clearInterval","backgroundColor","cardContainer","title","explainer","timerspot","flavor"],"mappings":"mKAAA,OAAQA,QAAR,CAAkBC,SAAlB,KAAkC,OAAlC,CACA,MAAOC,CAAAA,MAAP,KAAmB,yBAAnB,CAEA,MAAOC,CAAAA,OAAP,KAAoB,yBAApB,C,wFAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,MAAkD,IAAhDC,CAAAA,IAAgD,MAAhDA,IAAgD,CAA1CC,KAA0C,MAA1CA,KAA0C,CAAnCC,SAAmC,MAAnCA,SAAmC,CAAxBC,OAAwB,MAAxBA,OAAwB,CAAfC,SAAe,MAAfA,SAAe,CAEnE,cAAwBT,QAAQ,CAACQ,OAAD,CAAhC,wCAAOE,IAAP,eAAaC,OAAb,eAEAV,SAAS,CAAC,UAAM,CACd,GAAIW,CAAAA,GAAG,CAAG,IAAV,CACAA,GAAG,CAAGC,WAAW,CAAC,UAAM,CACtB,GAAIC,CAAAA,QAAQ,CAAGN,OAAO,CAAEO,IAAI,CAACC,KAAL,CAAW,CAACC,IAAI,CAACC,GAAL,GAAaX,SAAd,EAAyB,IAApC,CAAxB,CAGA,GAAIO,QAAQ,EAAI,CAAhB,CAAkB,CAChBK,OAAO,CAACC,GAAR,CAAYN,QAAZ,EACAL,SAAS,CAACF,SAAD,CAAT,CACD,CACDI,OAAO,CAACG,QAAD,CAAP,CACD,CATgB,CASd,IATc,CAAjB,CAUA,MAAO,WAAM,CACXO,aAAa,CAACT,GAAD,CAAb,CACD,CAFD,CAID,CAhBQ,CAgBN,EAhBM,CAAT,CAkBA,mBACE,aAAK,KAAK,CAAE,CAACU,eAAe,CAAChB,KAAjB,CAAZ,CAAqC,SAAS,CAAEH,OAAO,CAACoB,aAAxD,wBACE,oBAAKlB,IAAI,CAACmB,KAAV,EADF,cAEE,oBAAKnB,IAAI,CAACoB,SAAV,EAFF,cAGE,YAAK,SAAS,CAAEtB,OAAO,CAACuB,SAAxB,UACGhB,IADH,EAHF,cAME,oBAAKL,IAAI,CAACsB,MAAV,EANF,GADF,CAWD,CAjCD,CAmCA,cAAevB,CAAAA,UAAf","sourcesContent":["import {useState, useEffect} from 'react'\nimport socket from '../../context/socket.js'\n\nimport classes from './AttackCard.module.css'\n\nconst AttackCard = ({type, color, timestamp, maxTime, filterOut}) => {\n\n  const [secs, setSecs] = useState(maxTime)\n\n  useEffect(() => {\n    let int = null\n    int = setInterval(() => {\n      let timeleft = maxTime-(Math.round((Date.now() - timestamp)/1000))\n\n\n      if (timeleft <= 0){\n        console.log(timeleft)\n        filterOut(timestamp)\n      }\n      setSecs(timeleft)\n    }, 1000)\n    return () => {\n      clearInterval(int)\n    }\n\n  }, [])\n\n  return (\n    <div style={{backgroundColor:color}} className={classes.cardContainer}>\n      <h1>{type.title}</h1>\n      <h2>{type.explainer}</h2>\n      <div className={classes.timerspot}>\n        {secs}\n      </div>\n      <h3>{type.flavor}</h3>\n\n    </div>\n  )\n}\n\nexport default AttackCard\n"]},"metadata":{},"sourceType":"module"}