{"ast":null,"code":"import _slicedToArray from\"/Users/jessenicholas/shock-draw-final/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';import socket from'../../context/socket.js';import JoinTeam from'../../components/JoinTeam/JoinTeam.js';import HostButton from'../../components/HostButton/HostButton.js';import NameInput from'../../components/NameInput/NameInput.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Waitroom=function Waitroom(_ref){var players=_ref.players,setPlayers=_ref.setPlayers,setGamestage=_ref.setGamestage,setBonusTime=_ref.setBonusTime,setRoundTime=_ref.setRoundTime,setAttackTime=_ref.setAttackTime,roundTime=_ref.roundTime,bonusTime=_ref.bonusTime,attackTime=_ref.attackTime;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),host=_useState2[0],setHost=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),undecided=_useState4[0],setUndecided=_useState4[1];var handleRoomData=function handleRoomData(playerlist){return setPlayers(playerlist);};useEffect(function(){socket.emit('getRoomData');},[]);useEffect(function(){socket.on('takeRoomData',function(data){handleRoomData(data.players);hostCheck(data.players);});socket.on('takeHost',function(){setHost(true);});socket.on('takeTimerData',function(data){setAttackTime(data.attacktime);setBonusTime(data.bonustime);setRoundTime(data.roundtime);});socket.on('toGameroom',function(){console.log('gettinggameroom');socket.emit('getPreview');});return function(){socket.off('takeRoomData');socket.off('takeHost');socket.off('takeTimerData');socket.off('toGameroom');};});var hostCheck=function hostCheck(users){var noTeam=false;for(var i=0;i<users.length;i++){if(users[i].team=='none'){noTeam=true;break;}}setUndecided(noTeam);};var handleBonusTimeChange=function handleBonusTimeChange(e){return setBonusTime(e.target.value);};var handleRoundTimeChange=function handleRoundTimeChange(e){return setRoundTime(e.target.value);};var handleAttackTimeChange=function handleAttackTimeChange(e){return setAttackTime(e.target.value);};var handleSubmit=function handleSubmit(e){e.preventDefault();socket.emit('giveTimerData',{roundtime:roundTime,bonustime:bonusTime,attacktime:attackTime});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"pick username\"}),/*#__PURE__*/_jsx(NameInput,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"teamlist-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"team-list\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"RED TEAM\"}),players.map(function(player){return/*#__PURE__*/_jsx(\"div\",{className:\"team-players\",children:player.team=='red'&&/*#__PURE__*/_jsx(\"h2\",{children:player.username})},player.id);}),/*#__PURE__*/_jsx(JoinTeam,{color:\"red\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"team-list\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"none team\"}),players.map(function(player){return/*#__PURE__*/_jsx(\"div\",{className:\"team-players\",children:player.team=='none'&&/*#__PURE__*/_jsx(\"h2\",{children:player.username})},player.id);})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"team-list\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"BLUE TEAM\"}),players.map(function(player){return/*#__PURE__*/_jsx(\"div\",{className:\"team-players\",children:player.team=='blue'&&/*#__PURE__*/_jsx(\"h2\",{children:player.username})},player.id);}),/*#__PURE__*/_jsx(JoinTeam,{color:\"blue\",joinTeam:joinTeam})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"host-container\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{children:\"round time\"}),/*#__PURE__*/_jsxs(\"select\",{value:roundTime,onChange:function onChange(e){return socket.emit('changeRoundTime',{time:e.target.value});},children:[/*#__PURE__*/_jsx(\"option\",{value:90,children:\"90\"}),/*#__PURE__*/_jsx(\"option\",{value:180,children:\"180\"}),/*#__PURE__*/_jsx(\"option\",{value:300,children:\"300\"})]}),/*#__PURE__*/_jsx(\"label\",{children:\"bonus time\"}),/*#__PURE__*/_jsxs(\"select\",{value:bonusTime,onChange:function onChange(e){return socket.emit('changeBonusTime',{time:e.target.value});},children:[/*#__PURE__*/_jsx(\"option\",{value:20,children:\"20\"}),/*#__PURE__*/_jsx(\"option\",{value:30,children:\"30\"}),/*#__PURE__*/_jsx(\"option\",{value:40,children:\"40\"})]}),/*#__PURE__*/_jsx(\"label\",{children:\"attack time\"}),/*#__PURE__*/_jsxs(\"select\",{value:attackTime,onChange:function onChange(e){return socket.emit('changeAttackTime',{time:e.target.value});},children:[/*#__PURE__*/_jsx(\"option\",{value:20,children:\"20\"}),/*#__PURE__*/_jsx(\"option\",{value:30,children:\"30\"}),/*#__PURE__*/_jsx(\"option\",{value:40,children:\"40\"})]})]}),host&&/*#__PURE__*/_jsx(HostButton,{playerUndecided:undecided})]})]})]});};export default Waitroom;","map":{"version":3,"sources":["/Users/jessenicholas/shock-draw-final/client/src/layouts/Waitroom/Waitroom.js"],"names":["useState","useEffect","socket","JoinTeam","HostButton","NameInput","Waitroom","players","setPlayers","setGamestage","setBonusTime","setRoundTime","setAttackTime","roundTime","bonusTime","attackTime","host","setHost","undecided","setUndecided","handleRoomData","playerlist","emit","on","data","hostCheck","attacktime","bonustime","roundtime","console","log","off","users","noTeam","i","length","team","handleBonusTimeChange","e","target","value","handleRoundTimeChange","handleAttackTimeChange","handleSubmit","preventDefault","map","player","username","id","joinTeam","time"],"mappings":"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","sourcesContent":["import {useState, useEffect} from 'react'\nimport socket from '../../context/socket.js'\nimport JoinTeam from '../../components/JoinTeam/JoinTeam.js'\nimport HostButton from '../../components/HostButton/HostButton.js'\nimport NameInput from '../../components/NameInput/NameInput.js'\nconst Waitroom =\n({players, setPlayers, setGamestage, setBonusTime, setRoundTime, setAttackTime, roundTime, bonusTime, attackTime}) => {\n\n  const [host, setHost] = useState(false)\n\n  const [undecided, setUndecided] = useState(true)\n\n  const handleRoomData = (playerlist) => setPlayers(playerlist)\n\n  useEffect(() => {\n    socket.emit('getRoomData')\n  }, [])\n\n  useEffect(() => {\n    socket.on('takeRoomData', (data) => {\n      handleRoomData(data.players)\n      hostCheck(data.players)\n    })\n    socket.on('takeHost', () => {\n      setHost(true)\n    })\n    socket.on('takeTimerData', (data) => {\n      setAttackTime(data.attacktime)\n      setBonusTime(data.bonustime)\n      setRoundTime(data.roundtime)\n    })\n    socket.on('toGameroom', () => {\n      console.log('gettinggameroom')\n      socket.emit('getPreview')\n    })\n    return () => {\n      socket.off('takeRoomData')\n      socket.off('takeHost')\n      socket.off('takeTimerData')\n      socket.off('toGameroom')\n    }\n\n  })\n\n\n\n\n\n  const hostCheck = (users) => {\n    var noTeam = false;\n    for (let i=0; i < users.length; i++){\n      if (users[i].team == 'none'){\n        noTeam = true\n        break;\n      }\n    }\n    setUndecided(noTeam)\n  }\n\n  const handleBonusTimeChange = (e) => setBonusTime(e.target.value)\n  const handleRoundTimeChange = (e) => setRoundTime(e.target.value)\n  const handleAttackTimeChange = (e) => setAttackTime(e.target.value)\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    socket.emit('giveTimerData', {roundtime:roundTime, bonustime:bonusTime, attacktime:attackTime})\n  }\n\n\n\n\n\n\n\n  return(\n    <div>\n      <h1>pick username</h1>\n      <NameInput />\n      <div className='teamlist-container'>\n\n        <div className='team-list'>\n          <h1>RED TEAM</h1>\n          {players.map((player) => (\n            <div className='team-players' key={player.id}>\n              {player.team == 'red' && <h2>{player.username}</h2>}\n            </div>\n          ))}\n          <JoinTeam color='red' />\n        </div>\n\n\n\n        <div className='team-list'>\n          <h1>none team</h1>\n          {players.map((player) => (\n            <div className='team-players' key={player.id}>\n              {player.team == 'none' && <h2>{player.username}</h2>}\n            </div>\n          ))}\n\n        </div>\n\n        <div className='team-list'>\n          <h1>BLUE TEAM</h1>\n          {players.map((player) => (\n            <div className='team-players' key={player.id}>\n              {player.team == 'blue' && <h2>{player.username}</h2>}\n            </div>\n          ))}\n          <JoinTeam color='blue' joinTeam={joinTeam}/>\n        </div>\n\n        <div className='host-container'>\n          <form onSubmit = {handleSubmit}>\n            <label>round time</label>\n            <select value={roundTime} onChange={(e) => socket.emit('changeRoundTime', {time:e.target.value})}>\n              <option value={90}>90</option>\n              <option value={180}>180</option>\n              <option value={300}>300</option>\n            </select>\n\n            <label>bonus time</label>\n            <select value={bonusTime} onChange={(e) => socket.emit('changeBonusTime', {time:e.target.value})}>\n              <option value={20}>20</option>\n              <option value={30}>30</option>\n              <option value={40}>40</option>\n            </select>\n\n            <label>attack time</label>\n            <select value={attackTime} onChange={(e) => socket.emit('changeAttackTime', {time:e.target.value})}>\n              <option value={20}>20</option>\n              <option value={30}>30</option>\n              <option value={40}>40</option>\n            </select>\n\n\n          </form>\n\n          {host && <HostButton playerUndecided={undecided} />}\n        </div>\n\n      </div>\n    </div>\n  )\n}\n\nexport default Waitroom\n"]},"metadata":{},"sourceType":"module"}